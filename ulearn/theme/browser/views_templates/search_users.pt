<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="ulearn">

<head>
  <metal:block fill-slot="top_slot"
             tal:define="dummy python:request.set('disable_border',1);"/>
</head>

<body>

  <metal:main metal:fill-slot="main"
              tal:define="b_start python:0;
                         b_start request/b_start | b_start;
                         usersDict python: view.users();
                         users usersDict/content;
                         num_users usersDict/length;
                         big_data usersDict/big">

    <!-- <h1 i18n:translate="allcommunities">Communities</h1> -->

    <div id="searchusers">
      <div class="input-append">
        <input class="searchInput" type="text" placeholder="Cerca"
               i18n:attributes="placeholder search_users">
        <span class="add-on"><i class="fa-icon-search"></i></span>
      </div>
    </div>

    <section id="userlist">
      <tal:bigdata condition="big_data">
        <tal:llistat repeat="user users">
          <div class="directori_usuari_foto">
            <a href="" tal:attributes="href user/url" tal:content="structure user/foto">
            </a>
          </div>
        </tal:llistat>
      </tal:bigdata>
      <tal:bigdata condition="not: big_data">
        <ul class="sortablelist"
          tal:condition="users">
          <tal:llistat repeat="user users">
            <li class="mix" tal:attributes="data-name user/id">
              <div class="row-fluid">
                <div class="span3">
                  <a class="photo" tal:attributes="href user/url" tal:content="structure user/foto">
                  </a>
                </div>
                <div class="span7">
                  <a tal:attributes="href user/url">
                    <h4><span tal:replace="user/username">Username</span> <span class="usuari_petit" tal:content="user/id">Id</span></h4>
                    <p tal:condition="user/email"><i class="fa fa-icon-envelope"></i><span tal:content="user/email">Email</span></p>
                    <p tal:condition="user/telefon"><i class="fa fa-icon-mobile"></i><span tal:content="user/telefon">Phone</span></p>
                    <p tal:condition="user/location"><i class="fa fa-icon-building"></i><span tal:content="user/location">Location</span></p>
                    <p tal:condition="user/ubicacio"><i class="fa fa-icon-user"></i><span tal:content="user/ubicacio">Ubicacio</span></p>
                  </a>
                </div>
              </div>
            </li>
          </tal:llistat>
        </ul>
      </tal:bigdata>

    <div class="clearfix" tal:condition="big_data">
      ... de <span tal:replace="num_users"></span> persones
    </div>


    </section>


  </metal:main>
</body>
</html>
